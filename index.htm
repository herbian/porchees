<HTML><HEAD><TITLE></title></head>
<SCRIPT LANGUAGE="JavaScript">
<!-- Debut du script
//Tic tac toc de 100 pixels par images, espacés de 4 pixels pour pieces
var tabl=new Array(17);
var x=new Array(17);
var y=new Array(17);
var taille=100;
var bord=4;
var gbord=14;
var gauche=50;
var haut=25;

for (i=0;i<5;i++) {
tabl[i]=i;
x[i]=-taille-bord+gauche+i*(taille+bord);
y[i]=haut;
}
for (i=5;i<9;i++) {
tabl[i]=i;
x[i]=-taille-bord+gauche+(i-4)*(taille+bord);
y[i]=haut+bord+taille;
}
for (i=9;i<13;i++) {
tabl[i]=i;
x[i]=-taille-bord+gauche+(i-8)*(taille+bord);
y[i]=haut+2*(bord+taille);
}
for (i=13;i<17;i++) {
tabl[i]=i;
x[i]=-taille-bord+gauche+(i-12)*(taille+bord);
y[i]=haut+3*(bord+taille);
}
function finish(){
document.images[15].src="image17.gif"
go=0;
prompt('Vous avez reussi le puzzle, greatings, félicitations, bonne continuation...');
}
function swaps(casse) {
var pr,xs,ys,fin,pls,mns;
var i=eval(casse.name);
pls=1;mns=1;
if (i<16 && go==1) {
	if (tabl[16]==5 || tabl[16]==9 || tabl[16]==13) mns=0;
	if (tabl[16]==4 || tabl[16]==8 || tabl[16]==12) pls=0;
	if (
( pls==1 && tabl[16]==tabl[i]-1) || 
( mns==1 && tabl[16]==tabl[i]+1) || 
tabl[16]==tabl[i]+4 || tabl[16]==tabl[i]-4
	) {
	soundme.src="honk.wav";
	pr=tabl[16];
	tabl[16]=tabl[i];
	tabl[i]=pr;
	//window.status=16+"à"+tabl[16]+"-"+i+"à"+tabl[i];
	casse.style.posLeft = eval(x[tabl[i]]);
	casse.style.posTop = y[tabl[i]];
	//window.status=x[tabl[i]]+"-"+y[tabl[i]]+"_"+x[tabl[16]]+"-"+y[tabl[16]];
	casse=document.images[15];
	xs=tabl[16];
	ys=tabl[16];
	casse.style.posLeft= x[xs];
	casse.style.posTop= y[ys];
	fin=0;
	for (i=1;i<17;i++) 
		{
		if (tabl[i]==i)fin=fin+1;
		}
	if (fin==16) finish();

		}
	}
}
var go=0;
function mele()
{
var z,i,casse,pr,pls,mns;
go=1;
for (z=1;z<1000;z++){
i=Math.ceil(15*Math.random());

document.images[16].style.posLeft= gauche-gbord;
document.images[16].style.posTop= haut-gbord;
document.images[15].src="image16.gif";

pls=1;mns=1;
if (i<16 && i>0) {
	if (tabl[16]==5 || tabl[16]==9 || tabl[16]==13) mns=0;
	if (tabl[16]==4 || tabl[16]==8 || tabl[16]==12) pls=0;
	if (
( pls==1 && tabl[16]==tabl[i]-1) || 
( mns==1 && tabl[16]==tabl[i]+1) || 
tabl[16]==tabl[i]+4 || tabl[16]==tabl[i]-4
	) {
	pr=tabl[16];
	tabl[16]=tabl[i];
	tabl[i]=pr;
			}
		}
	}
	for (i=0;i<16;i++){
	document.images[i].style.posLeft= x[tabl[(i+1)]];
	document.images[i].style.posTop= y[tabl[(i+1)]];
	}
}		
-->
</script>
<BODY onLoad="mele();" bgcolor="#C0C0C0">
<img name="1" src="image1.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="2" src="image2.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="3" src="image3.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="4" src="image4.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="5" src="image5.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="6" src="image6.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="7" src="image7.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="8" src="image8.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="9" src="image9.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="10" src="image10.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="11" src="image11.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="12" src="image12.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="13" src="image13.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="14" src="image14.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="15" src="image15.gif" style="position:absolute;z-index:1;" onClick="swaps(this);">
<img name="16" src="image16.gif" style="position:absolute;z-index:2;" onClick="">
<img name="17" src="cadre.gif" style="position:absolute;top:7;left:90;" onClick="">
<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>

<div style="{position:absolute;top:20;left:560;cursor=hand}" onClick="mele();"><H1><B>Melange</div>

<BGSOUND id="soundme" src="">

</body>

</html>